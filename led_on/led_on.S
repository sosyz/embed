@******************************************************************************
@ File：led_on.S
@ 功能：点灯
@******************************************************************************       
            
.text
.global _start
_start:
            LDR     R0,=0x56000010      @ R0设为GPFCON寄存器。此寄存器
                                        @ 用于选择端口B各引脚的功能：
                                        @ 是输出、是输入、还是其他
            MOV     R1,#0x00015400        
            STR     R1,[R0]             @ 设置GPF5 6 7 8为输出口 [17:...:10]
            
            LDR     R0,=0x56000014      @ R0设为GPBDAT寄存器。此寄存器
                                        @ 用于读/写端口B各引脚的数据

            @ 以下是一个死循环，每次循环都会将GPBDAT寄存器的值取反
            @ 从而实现LED的闪烁
loop:       LDR     R1,[R0]             @ 读取GPBDAT寄存器的值
            ROR     R1,#1              @ 将GPBDAT寄存器的值循环右移2位
            STR     R1,[R0]             @ 将取反后的值写入GPBDAT寄存器
            MOV     R1,#0x100000       @ 设置一个循环次数
loop1:      SUBS    R1,R1,#1           @ 循环次数减1
            BNE     loop1              @ 如果循环次数不为0，则跳转到loop1
            B       loop               @ 跳转到loop
